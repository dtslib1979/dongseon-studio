<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>Staff Office | DONGSEON Studio</title>
  <meta name="theme-color" content="#000000">
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Orbitron:wght@400;500;600;700&family=Noto+Sans+KR:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <style>
    :root {
      --matrix-green: #00ff41;
      --matrix-dark: #003b00;
      --matrix-glow: rgba(0,255,65,0.5);
      --cyber-blue: #00d4ff;
      --warning-amber: #ffaa00;
      --bg-black: #000000;
      --bg-panel: rgba(0,20,0,0.9);
      --bg-card: rgba(0,40,0,0.6);
      --border-matrix: rgba(0,255,65,0.3);
      --text-primary: #00ff41;
      --text-secondary: rgba(0,255,65,0.7);
      --text-muted: rgba(0,255,65,0.4);
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: 'JetBrains Mono', 'Noto Sans KR', monospace;
      background: var(--bg-black);
      color: var(--text-primary);
      min-height: 100vh;
      line-height: 1.6;
    }

    /* Scanline Effect */
    .scanline {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 2000;
      background: linear-gradient(transparent 0%, rgba(0,255,65,0.02) 50%, transparent 100%);
      background-size: 100% 4px;
    }

    /* Main Container */
    .main-container {
      display: flex;
      min-height: 100vh;
    }

    /* Sidebar */
    .sidebar {
      width: 320px;
      background: var(--bg-panel);
      border-right: 1px solid var(--border-matrix);
      padding: 20px;
      overflow-y: auto;
      flex-shrink: 0;
    }

    @media (max-width: 768px) {
      .main-container {
        flex-direction: column;
      }
      .sidebar {
        width: 100%;
        max-height: none;
        border-right: none;
        border-bottom: 1px solid var(--border-matrix);
        overflow-y: visible;
      }
      .content-area {
        min-height: 60vh;
      }
    }

    /* Header */
    .sidebar-header {
      text-align: center;
      padding-bottom: 20px;
      border-bottom: 1px solid var(--border-matrix);
      margin-bottom: 20px;
    }

    .logo {
      font-family: 'Orbitron', sans-serif;
      font-size: 10px;
      letter-spacing: 3px;
      color: var(--text-muted);
      margin-bottom: 8px;
    }

    h1 {
      font-family: 'Orbitron', sans-serif;
      font-size: 20px;
      font-weight: 700;
      color: var(--matrix-green);
      text-shadow: 0 0 15px var(--matrix-glow);
    }

    .status {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 10px;
      margin-top: 8px;
    }

    .status-dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: var(--matrix-green);
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.4; }
    }

    /* Category - Accordion */
    .category {
      margin-bottom: 8px;
      border: 1px solid var(--border-matrix);
      border-radius: 4px;
      overflow: hidden;
    }

    .category-header {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 12px;
      background: var(--bg-card);
      cursor: pointer;
      transition: all 0.2s ease;
      user-select: none;
    }

    .category-header:hover {
      background: rgba(0,60,0,0.8);
    }

    .category-header:active {
      background: rgba(0,80,0,0.8);
    }

    .category.open .category-header {
      border-bottom: 1px solid var(--border-matrix);
    }

    .category-arrow {
      font-size: 10px;
      color: var(--text-muted);
      transition: transform 0.3s ease;
    }

    .category.open .category-arrow {
      transform: rotate(90deg);
    }

    .category-icon {
      font-size: 14px;
    }

    .category-title {
      font-family: 'Orbitron', sans-serif;
      font-size: 11px;
      font-weight: 600;
      color: var(--cyber-blue);
      letter-spacing: 1px;
      flex: 1;
    }

    .category-count {
      font-size: 10px;
      color: var(--text-muted);
      background: var(--matrix-dark);
      padding: 2px 6px;
      border-radius: 10px;
    }

    /* Document Links */
    .doc-list {
      list-style: none;
      display: none;
      padding: 8px;
      background: var(--bg-panel);
    }

    .category.open .doc-list {
      display: block;
    }

    .doc-item {
      margin-bottom: 4px;
    }

    .doc-item:last-child {
      margin-bottom: 0;
    }

    .doc-link {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 10px 12px;
      background: var(--bg-card);
      border: 1px solid transparent;
      border-radius: 4px;
      text-decoration: none;
      color: var(--text-primary);
      cursor: pointer;
      transition: all 0.2s ease;
      font-size: 12px;
    }

    .doc-link:hover, .doc-link.active {
      background: var(--bg-panel);
      border-color: var(--matrix-green);
      box-shadow: 0 0 10px rgba(0,255,65,0.15);
    }

    .doc-link.active {
      border-color: var(--cyber-blue);
      box-shadow: 0 0 10px rgba(0,212,255,0.2);
    }

    .doc-type {
      font-size: 9px;
      padding: 2px 5px;
      background: var(--matrix-dark);
      border-radius: 2px;
      color: var(--matrix-green);
      font-weight: 600;
    }

    .doc-name {
      flex: 1;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .doc-date {
      font-size: 10px;
      color: var(--warning-amber);
    }

    .external-badge {
      font-size: 9px;
      color: var(--cyber-blue);
    }

    /* Content Viewer */
    .content-area {
      flex: 1;
      display: flex;
      flex-direction: column;
      min-width: 0;
    }

    .content-header {
      padding: 16px 24px;
      border-bottom: 1px solid var(--border-matrix);
      background: var(--bg-panel);
    }

    .content-title {
      font-family: 'Orbitron', sans-serif;
      font-size: 14px;
      color: var(--cyber-blue);
      margin-bottom: 4px;
    }

    .content-path {
      font-size: 11px;
      color: var(--text-muted);
    }

    .content-viewer {
      flex: 1;
      padding: 24px;
      overflow-y: auto;
    }

    .welcome-message {
      text-align: center;
      padding: 60px 20px;
      color: var(--text-muted);
    }

    .welcome-message h2 {
      font-family: 'Orbitron', sans-serif;
      font-size: 16px;
      color: var(--text-secondary);
      margin-bottom: 12px;
    }

    .welcome-message p {
      font-size: 12px;
    }

    .loading {
      text-align: center;
      padding: 40px;
      color: var(--text-secondary);
    }

    .loading::after {
      content: '';
      animation: dots 1.5s infinite;
    }

    @keyframes dots {
      0%, 20% { content: '.'; }
      40% { content: '..'; }
      60%, 100% { content: '...'; }
    }

    /* Markdown Styles */
    .markdown-body {
      color: var(--text-primary);
      font-size: 14px;
      line-height: 1.8;
    }

    .markdown-body h1, .markdown-body h2, .markdown-body h3,
    .markdown-body h4, .markdown-body h5, .markdown-body h6 {
      font-family: 'Orbitron', 'Noto Sans KR', sans-serif;
      color: var(--matrix-green);
      margin: 24px 0 12px 0;
      padding-bottom: 8px;
      border-bottom: 1px solid var(--border-matrix);
    }

    .markdown-body h1 { font-size: 22px; }
    .markdown-body h2 { font-size: 18px; }
    .markdown-body h3 { font-size: 15px; border-bottom: none; }
    .markdown-body h4 { font-size: 13px; border-bottom: none; color: var(--cyber-blue); }

    .markdown-body p {
      margin: 12px 0;
    }

    .markdown-body ul, .markdown-body ol {
      margin: 12px 0;
      padding-left: 24px;
    }

    .markdown-body li {
      margin: 6px 0;
    }

    .markdown-body blockquote {
      border-left: 3px solid var(--cyber-blue);
      padding: 12px 16px;
      margin: 16px 0;
      background: var(--bg-card);
      color: var(--text-secondary);
      font-style: italic;
    }

    .markdown-body code {
      background: var(--bg-card);
      padding: 2px 6px;
      border-radius: 3px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 13px;
      color: var(--warning-amber);
    }

    .markdown-body pre {
      background: var(--bg-card);
      border: 1px solid var(--border-matrix);
      border-radius: 4px;
      padding: 16px;
      overflow-x: auto;
      margin: 16px 0;
    }

    .markdown-body pre code {
      background: none;
      padding: 0;
      color: var(--text-primary);
    }

    .markdown-body table {
      width: 100%;
      border-collapse: collapse;
      margin: 16px 0;
      font-size: 13px;
    }

    .markdown-body th, .markdown-body td {
      border: 1px solid var(--border-matrix);
      padding: 10px 12px;
      text-align: left;
    }

    .markdown-body th {
      background: var(--bg-card);
      color: var(--cyber-blue);
      font-weight: 600;
    }

    .markdown-body tr:hover {
      background: var(--bg-card);
    }

    .markdown-body hr {
      border: none;
      border-top: 1px solid var(--border-matrix);
      margin: 24px 0;
    }

    .markdown-body a {
      color: var(--cyber-blue);
      text-decoration: none;
    }

    .markdown-body a:hover {
      text-decoration: underline;
    }

    .markdown-body strong {
      color: var(--matrix-green);
    }

    .markdown-body em {
      color: var(--text-secondary);
    }

    /* Back Link */
    .back-link {
      display: block;
      text-align: center;
      padding: 12px;
      margin-top: 12px;
      border: 1px solid var(--border-matrix);
      border-radius: 4px;
      color: var(--text-secondary);
      text-decoration: none;
      font-size: 11px;
      transition: all 0.2s;
    }

    .back-link:hover {
      color: var(--matrix-green);
      background: var(--bg-card);
      border-color: var(--matrix-green);
    }
  </style>
</head>
<body>
  <div class="scanline"></div>

  <div class="main-container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <div class="logo">ë™ì„  ìŠ¤íŠœë””ì˜¤</div>
        <h1>ìŠ¤íƒœí”„ ì˜¤í”¼ìŠ¤</h1>
        <div class="status">
          <span class="status-dot"></span>
          <span>ì‹œìŠ¤í…œ í™œì„±</span>
        </div>
      </div>

      <!-- ì •ê´€ / Constitution -->
      <section class="category">
        <div class="category-header">
          <span class="category-arrow">â–¶</span>
          <span class="category-icon">ğŸ“œ</span>
          <span class="category-title">ì •ê´€</span>
          <span class="category-count">2</span>
        </div>
        <ul class="doc-list">
          <li class="doc-item">
            <div class="doc-link" data-file="CLAUDE.md" data-title="ë™ì„  ìŠ¤íŠœë””ì˜¤ ì •ê´€">
              <span class="doc-type">MD</span>
              <span class="doc-name">ë™ì„  ìŠ¤íŠœë””ì˜¤ ì •ê´€</span>
            </div>
          </li>
          <li class="doc-item">
            <div class="doc-link" data-file="HQ:CLAUDE.md" data-title="DTSLIB ë³¸ì‚¬ ì •ê´€" data-repo="dtslib-papyrus">
              <span class="doc-type">MD</span>
              <span class="doc-name">DTSLIB ë³¸ì‚¬ ì •ê´€</span>
              <span class="external-badge">HQ</span>
            </div>
          </li>
        </ul>
      </section>

      <!-- íšŒì˜ë¡ / Meetings -->
      <section class="category">
        <div class="category-header">
          <span class="category-arrow">â–¶</span>
          <span class="category-icon">ğŸ“‹</span>
          <span class="category-title">íšŒì˜ë¡</span>
          <span class="category-count">2</span>
        </div>
        <ul class="doc-list">
          <li class="doc-item">
            <div class="doc-link" data-file="staff-office/meetings/meeting-2026-01-29-strategy.md" data-title="Beyond AI ì „ëµ íšŒì˜">
              <span class="doc-type">MD</span>
              <span class="doc-name">Beyond AI ì „ëµ íšŒì˜</span>
              <span class="doc-date">01-29</span>
            </div>
          </li>
          <li class="doc-item">
            <div class="doc-link" data-file="staff-office/meetings/meeting-2026-01-29.md" data-title="3-Lane êµ¬ì¡° í™•ì • íšŒì˜">
              <span class="doc-type">MD</span>
              <span class="doc-name">3-Lane êµ¬ì¡° í™•ì •</span>
              <span class="doc-date">01-29</span>
            </div>
          </li>
        </ul>
      </section>

      <!-- ë°±ì„œ / Whitepaper -->
      <section class="category">
        <div class="category-header">
          <span class="category-arrow">â–¶</span>
          <span class="category-icon">ğŸ“„</span>
          <span class="category-title">ë°±ì„œ</span>
          <span class="category-count">2</span>
        </div>
        <ul class="doc-list">
          <li class="doc-item">
            <div class="doc-link" data-file="00_TRUTH/whitepaper.md" data-title="ë™ì„  ìŠ¤íŠœë””ì˜¤ ë°±ì„œ">
              <span class="doc-type">MD</span>
              <span class="doc-name">ë™ì„  ìŠ¤íŠœë””ì˜¤ ë°±ì„œ</span>
            </div>
          </li>
          <li class="doc-item">
            <div class="doc-link" data-file="00_TRUTH/meta-layer.md" data-title="Meta Layer ë°±ì„œ">
              <span class="doc-type">MD</span>
              <span class="doc-name">Meta Layer ë°±ì„œ</span>
              <span class="doc-date">01-29</span>
            </div>
          </li>
        </ul>
      </section>

      <!-- ë°©ë²•ë¡  / Methodology -->
      <section class="category">
        <div class="category-header">
          <span class="category-arrow">â–¶</span>
          <span class="category-icon">âš™ï¸</span>
          <span class="category-title">ë°©ë²•ë¡ </span>
          <span class="category-count">1</span>
        </div>
        <ul class="doc-list">
          <li class="doc-item">
            <div class="doc-link" data-file="specs/flow-protocol.md" data-title="Flow Protocol ë°©ë²•ë¡ ">
              <span class="doc-type">MD</span>
              <span class="doc-name">Flow Protocol</span>
            </div>
          </li>
        </ul>
      </section>

      <!-- ì‹œìŠ¤í…œ / System -->
      <section class="category">
        <div class="category-header">
          <span class="category-arrow">â–¶</span>
          <span class="category-icon">ğŸ¤–</span>
          <span class="category-title">ì‹œìŠ¤í…œ</span>
          <span class="category-count">1</span>
        </div>
        <ul class="doc-list">
          <li class="doc-item">
            <div class="doc-link" data-file="engines/llm/prompts/system.md" data-title="LLM ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸">
              <span class="doc-type">MD</span>
              <span class="doc-name">LLM ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸</span>
            </div>
          </li>
        </ul>
      </section>

      <!-- ì „ëµ / Strategy -->
      <section class="category">
        <div class="category-header">
          <span class="category-arrow">â–¶</span>
          <span class="category-icon">ğŸ¯</span>
          <span class="category-title">ì „ëµ</span>
          <span class="category-count">2</span>
        </div>
        <ul class="doc-list">
          <li class="doc-item">
            <div class="doc-link" data-file="docs/beyond-ai-strategy.md" data-title="Beyond AI ì „ëµ">
              <span class="doc-type">MD</span>
              <span class="doc-name">Beyond AI ì „ëµ</span>
              <span class="doc-date">01-29</span>
            </div>
          </li>
          <li class="doc-item">
            <div class="doc-link" data-file="docs/strategy-evaluation.md" data-title="ì „ëµ í‰ê°€ ë¦¬í¬íŠ¸ (9.2/10)">
              <span class="doc-type">MD</span>
              <span class="doc-name">ì „ëµ í‰ê°€ ë¦¬í¬íŠ¸</span>
              <span class="doc-date">01-29</span>
            </div>
          </li>
        </ul>
      </section>

      <!-- ì„±ê³¼ / Performance -->
      <section class="category">
        <div class="category-header">
          <span class="category-arrow">â–¶</span>
          <span class="category-icon">âš¡</span>
          <span class="category-title">ì„±ê³¼</span>
          <span class="category-count">1</span>
        </div>
        <ul class="doc-list">
          <li class="doc-item">
            <div class="doc-link" data-file="docs/claude-productivity.md" data-title="í´ë¡œë“œì˜ ìƒì‚°ì„± (9ì‹œê°„ = 2-4ì£¼)">
              <span class="doc-type">MD</span>
              <span class="doc-name">í´ë¡œë“œì˜ ìƒì‚°ì„±</span>
              <span class="doc-date">01-29</span>
            </div>
          </li>
        </ul>
      </section>

      <!-- ì•„í‚¤í…ì²˜ ë¦¬í¬íŠ¸ / Architecture Reports -->
      <section class="category">
        <div class="category-header">
          <span class="category-arrow">â–¶</span>
          <span class="category-icon">ğŸ—ï¸</span>
          <span class="category-title">ì•„í‚¤í…ì²˜</span>
          <span class="category-count">1</span>
        </div>
        <ul class="doc-list">
          <li class="doc-item">
            <div class="doc-link" data-file="docs/architecture-redesign-report.md" data-title="AS-IS â†’ TO-BE ì•„í‚¤í…ì²˜ ë¦¬ë””ìì¸">
              <span class="doc-type">MD</span>
              <span class="doc-name">ì•„í‚¤í…ì²˜ ë¦¬ë””ìì¸ ë¦¬í¬íŠ¸</span>
              <span class="doc-date">01-29</span>
            </div>
          </li>
        </ul>
      </section>

      <!-- ì¡°ì§ë„ / Organization -->
      <section class="category">
        <div class="category-header">
          <span class="category-arrow">â–¶</span>
          <span class="category-icon">ğŸ¢</span>
          <span class="category-title">ì¡°ì§ë„</span>
          <span class="category-count">1</span>
        </div>
        <ul class="doc-list">
          <li class="doc-item">
            <div class="doc-link" data-file="ì¡°ì§ë„/HQ-CLAUDE.md" data-title="DTSLIB HQ í”„ë¡œì íŠ¸ ì»¨í…ìŠ¤íŠ¸">
              <span class="doc-type">MD</span>
              <span class="doc-name">HQ í”„ë¡œì íŠ¸ ì»¨í…ìŠ¤íŠ¸</span>
            </div>
          </li>
        </ul>
      </section>

      <a href="../" class="back-link">â† ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
    </aside>

    <!-- Content Area -->
    <main class="content-area">
      <div class="content-header" id="content-header" style="display:none;">
        <div class="content-title" id="content-title"></div>
        <div class="content-path" id="content-path"></div>
      </div>
      <div class="content-viewer" id="content-viewer">
        <div class="welcome-message">
          <h2>ğŸ“‚ ë¬¸ì„œë¥¼ ì„ íƒí•˜ì„¸ìš”</h2>
          <p>ì¹´í…Œê³ ë¦¬ë¥¼ ëˆŒëŸ¬ í¼ì¹œ í›„ ë¬¸ì„œë¥¼ í´ë¦­í•˜ì„¸ìš”</p>
        </div>
      </div>
    </main>
  </div>

  <script>
    // jsDelivr CDN - faster, no 5min cache like raw.githubusercontent
    const BASE_URL = 'https://cdn.jsdelivr.net/gh/dtslib1979';
    const DEFAULT_REPO = 'dongseon-studio';
    const BRANCH = 'main';

    const viewer = document.getElementById('content-viewer');
    const header = document.getElementById('content-header');
    const titleEl = document.getElementById('content-title');
    const pathEl = document.getElementById('content-path');

    // Accordion toggle
    document.querySelectorAll('.category-header').forEach(header => {
      header.addEventListener('click', (e) => {
        const category = header.parentElement;
        category.classList.toggle('open');
      });
    });

    // Get all doc links
    document.querySelectorAll('.doc-link').forEach(link => {
      link.addEventListener('click', async (e) => {
        e.stopPropagation(); // Prevent accordion toggle

        // Remove active class from all
        document.querySelectorAll('.doc-link').forEach(l => l.classList.remove('active'));
        link.classList.add('active');

        const file = link.dataset.file;
        const title = link.dataset.title;
        const repo = link.dataset.repo || DEFAULT_REPO;

        // Handle HQ files
        const actualFile = file.startsWith('HQ:') ? file.replace('HQ:', '') : file;

        // Show header
        header.style.display = 'block';
        titleEl.textContent = title;
        pathEl.textContent = `${repo}/${actualFile}`;

        // Show loading
        viewer.innerHTML = '<div class="loading">ë¡œë”© ì¤‘</div>';

        try {
          // jsDelivr format: /gh/user/repo@branch/file
          // URL encode the file path to handle Korean characters
          const encodedFile = actualFile.split('/').map(encodeURIComponent).join('/');
          const url = `${BASE_URL}/${repo}@${BRANCH}/${encodedFile}`;
          const response = await fetch(url, { cache: 'no-store' });

          if (!response.ok) throw new Error(`HTTP ${response.status}`);

          const markdown = await response.text();
          const html = marked.parse(markdown);
          viewer.innerHTML = `<div class="markdown-body">${html}</div>`;
        } catch (error) {
          console.error('Fetch error:', error);
          viewer.innerHTML = `
            <div class="welcome-message">
              <h2>âŒ ë¡œë“œ ì‹¤íŒ¨</h2>
              <p>ë¬¸ì„œë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: ${error.message}</p>
              <p style="margin-top:12px;font-size:11px;color:var(--text-muted);">
                <a href="https://github.com/dtslib1979/${repo}/blob/${BRANCH}/${actualFile}" target="_blank" style="color:var(--cyber-blue);">
                  GitHubì—ì„œ ì§ì ‘ ë³´ê¸° â†’
                </a>
              </p>
            </div>
          `;
        }
      });
    });
  </script>
</body>
</html>
